{#   <div class="container">#}
    <div id="info" d="{{info}}" style="display:none"></div>
    <!-- 引入 echarts.js -->
    <script src="{{ url_for('static',filename='echarts.js') }}"></script>
  <div class="container">
    <!-- 为ECharts准备一个具备大小（宽高）的Dom -->
   <div id="main" style="width: 600px;height:350px; float:left; margin-left: 20px; margin-top: 40px; padding-left:20px "></div>
      </div>


<div id="data_table" style="width: 345px;height:335px;margin-left:4em;float: left; margin-top:60px; ">
      <table class="table table-striped table-hover">
           <caption></caption>
  <thead>
    <tr>
      <th scope="col">#</th>
      <th scope="col">Instrument</th>
      <th scope="col">Uptime</th>
      <th scope="col">Downtime</th>
    </tr>
  </thead>
  <tbody id="body">
  </tbody>
</table>
</div>
{#    <script>#}
        <script type="text/javascript">
        var info = document.getElementById('info').getAttribute('d');
        info = JSON.parse(info);
        ins = [];
        var myChart = echarts.init(document.getElementById('main'));
        {#var rows = '';#}
        maxLen = 0;
        ct = 0;
        for(var name in info){
          ct += 1;
        }

        var index = info.length;
        for(var name in info){
            ins.push(name);
            {#st plus et#}
            len = info[name]['start'].length *2;
            {#console.log(len);#}
            if(len  > maxLen){
                maxLen = len;
            }
            console.log(info[name]);
            row = '';
            row += '<tr>';
            row += '<th scope="row">' + ct + '</th>';
            ct -= 1;
            var up = info[name]["ins_data"]["ratio"];
            var down = info[name]["ins_data"]["rest_ratio"];
            console.log(up);
            row += '<td>' + name + '</td>';
            row += '<td>' + up + '%' + '</td>';
            row += '<td>' + down + '%' + '</td>';
            row += '</tr>';
            $("#body").prepend(row);
        }

        var start_time = new Date({{ start_time }});
        start_time = start_time.toLocaleString();

         var end_time = new Date({{ end_time }});
        end_time = end_time.toLocaleString();
        $("caption").html("<center>from " + start_time + '<br>' + 'to     ' + end_time + '<\center>');


option = {
    {#legend: {#}
    {#    data: ['running status']},#}


    {#backgroundColor: '#08254F',#}
    {#zlevel:6,#}
    // tooltip（提示框组件）
    {#tooltip: {#}
    {#    //trigger(触发类型)，可选'item','axis','none'#}
    {#    trigger: 'axis',#}
    {#    axisPointer: {#}
    {#        //指示器类型,可选'line','shadow','cross'#}
    {#        type: 'shadow'},},#}
    //echarts图表的相对于容器的布局,
    grid: {
        {#zlevel:5,#}
        top: 30,
        containLabel:false,
        {#left:0,#}
        right:'3%'

    }, grid3D: {
        boxWidth: 200,
        boxDepth: 80,
        light: {
            main: {
                intensity: 1.2
            },
            ambient: {
                intensity: 0.3
            }
        }
    },
     dataZoom: [
                    {   // 这个dataZoom组件，默认控制x轴。
                        type: 'slider', // 这个 dataZoom 组件是 slider 型 dataZoom 组件
                        start: 0,      // 左边在 10% 的位置。
                        end: 100  , // 右边在 60% 的位置。
                        filterMode:'none',
                        realtime:true,
                        {#xAxisIndex: [0],#}
                    },
          {   // 这个dataZoom组件，也控制x轴。
            type: 'inside', // 这个 dataZoom 组件是 inside 型 dataZoom 组件
            start: 0,      // 左边在 10% 的位置。
            end: 100,
              filterMode:'none',
               // 右边在 60% 的位置。
        }
                ],
    xAxis: [{
        type: 'time',
        boundaryGap: true,
        axisPointer: {
                        show: true
                    },
        splitLine: {
            show: true,
        },
         {#move 1 second to avoid bugs of ECharts#}
         min: {{ start_time }} - 1000,
                    max: {{ end_time }} + 1000,
                    dateTimeLabelFormats: {
                        day: '00:00',
                        hour: '%H:00',
                    },

                    splitNumber: 10,


        //axisTick 坐标轴刻度相关设置
        axisTick: {
            show: true
        },

        //axixLine 坐标轴轴线相关设置
        axisLine: {
            show: true,
            lineStyle: {
                {#color: '#FFFFFF',#}
            }
        },
        //axisLabel 坐标轴刻度标签的相关设置
        axisLabel: {
            show: true,
        }
    }, ],
    yAxis: [{
        zlevel:1,
        type: 'category',
        data: ins,
        boundaryGap: true,
         axisPointer: {
                        // show: true
                    },

        axisLabel: {

            show: true,
            {#color: '#fff',#}

        },
        splitLine: {
            show: false
        },
        axisLine: {
            show: true,
            lineStyle: {
                {#color: '#fff',#}
            },
        },
        axisTick: {
            show: true
        },
    },
     ],
    series: function(){
        var serie=[];
        {#console.log("max: " + maxLen);#}
        for( var i=0;i <= maxLen/2 ;i++) {
            d = [];
            for (index in ins) {
                name = ins[index];
                {#console.log(name);#}
                {#console.log("bbbbb");#}
                {#console.log("i: " + i);#}
                var start = info[name]["start"][i];
                {#console.log(start);#}
                {#console.log(maxLen - i * 2);#}


                d.push(start);
                {#console.log("starttime: " + d);#}
            }
            var item1 = {
                zlevel:-12,
                type: 'bar',
                stack: '总量',
                data: d,
                barWidth: '30%',
                // barGap 不同系列的柱间距离
                barGap: '-100%',
                {#z:0,#}
                z: maxLen - i * 2,

                itemStyle: {
                    //barBorderRadius bar圆角半径
                    {#barBorderRadius: 10,#}

                    color: '#afd6fa' ,
                }
            };
            serie.push(item1);

            d = [];
            for (index in ins) {
                name = ins[index];
                {#console.log(name);#}
                {#if(info[name]["start"].length < i){#}
                {#     console.log("aaaaa");#}
                {#   var end = '';}#}
                {#else{#}
                {#console.log(name);#}
                {#console.log("bbbbb");#}
                {#console.log("i: " + i);#}
                var end = info[name]["end"][i];
                {#console.log(end);#}
                {#console.log(maxLen - i * 2 - 1);#}

                d.push(end);
                {#console.log("endtime: " + d);#}
            }

            var item2 = {
                type: 'bar',
                stack: '总量',
                data: d,
                zlevel:-12,
                barWidth: '30%',
                // barGap 不同系列的柱间距离
                barGap: '-100%',
                {#z: 1,#}
                z: maxLen - i * 2 - 1,
                itemStyle: {
                    //barBorderRadius bar圆角半径
                    {#barBorderRadius: 10,#}

                    color: '#F97A7A',
                }
            };
            serie.push(item2);
        }

            d = [];
            for(index in ins){
                d.push({{ end_time }});
            }
            var item3 = {
                type: 'bar',
                stack: '总量',
                data: d,
                barWidth: '30%',
                zlevel:-12,
                // barGap 不同系列的柱间距离
                barGap: '-100%',
                {#z: 1,#}
                z: 0,
                itemStyle: {
                    //barBorderRadius bar圆角半径
                    {#barBorderRadius: 10,#}

                    color: '#afd6fa',
                }
            };
            serie.push(item3);


        {#console.log(serie.length);#}
    return serie;
        }()
};

        myChart.setOption(option);

    {#    myChart.on('dataZoom', function(e) {#}
    {#console.log(e);         // All params#}
    {#console.log(e.start);   // Start value#}
    {#console.log(e.end); #}
    {#myChart.setOption(option);#}
    // End value
            {#for (serie in myChart.series){#}
            {#    for(t in serie.data){#}
            {#        if(t<e.start){#}
            {#            t = e.start;#}
            {#        }#}
            {#        else if(t>e.end){#}
            {#            t = e.end;#}
            {#        }#}
            {#    }}});#}


        {# ins = [];#}
        {#maxLen = 1;#}
        {#for(var name in info) {#}
        {#    ins.push(name);}#}
        {#var tbody =  $("#body");#}
        {#var rows = '';#}
        {#for (index in ins) {#}
        {#    rows += '<th scope="row">' + index + '</th>';#}
        {#    rows += '</tr>';#}
        {#    var name = ins[index];#}
        {#    var up = info[name]["ratio"];#}
        {#    var down = info[name]["rest_ratio"];#}
        {#    rows += '<th scope="row">' + name + '</th>';#}
        {#    rows += '<th scope="row">' + up + '</th>';#}
        {#    rows += '<th scope="row">' + down + '</th>';#}
        {#    rows += '</tr>';#}
        {#    console.log("1111111111");#}
        {#    console.log(rows)}#}
        {# tbody.html(rows);#}
    </script>
{#</div>#}